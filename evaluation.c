#include "evalution.h"
static const short base_value[48] =
{
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
 BASEVALUE_KING,BASEVALUE_BISHOP,BASEVALUE_BISHOP, BASEVALUE_ELEPHANT, BASEVALUE_ELEPHANT, BASEVALUE_HORSE,BASEVALUE_HORSE,
 BASEVALUE_CAR, BASEVALUE_CAR, BASEVALUE_CANON, BASEVALUE_CANON, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN,
 BASEVALUE_KING,BASEVALUE_BISHOP,BASEVALUE_BISHOP, BASEVALUE_ELEPHANT, BASEVALUE_ELEPHANT, BASEVALUE_HORSE, BASEVALUE_HORSE,
 BASEVALUE_CAR, BASEVALUE_CAR, BASEVALUE_CANON, BASEVALUE_CANON, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN, BASEVALUE_PAWN
};
static const short flex_value[48] =
{
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
 FLEXIBILTY_KING,FLEXIBITY_BISHOP,FLEXIBITY_BISHOP, FLEXIBILTY_ELEPHANT, FLEXIBILTY_ELEPHANT, FLEXIBILTY_HORSE,FLEXIBILTY_HORSE,
 FLEXIBILTY_CAR, FLEXIBILTY_CAR, FLEXIBILTY_CANON, FLEXIBILTY_CANON, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN,
 FLEXIBILTY_KING,FLEXIBITY_BISHOP,FLEXIBITY_BISHOP, FLEXIBILTY_ELEPHANT, FLEXIBILTY_ELEPHANT, FLEXIBILTY_HORSE, FLEXIBILTY_HORSE,
 FLEXIBILTY_CAR, FLEXIBILTY_CAR, FLEXIBILTY_CANON, FLEXIBILTY_CANON, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN, FLEXIBILTY_PAWN
};
static const unsigned char king_pos_value[2][256]=
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 15, 20, 15, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 10, 10, 10, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 10, 10, 10, 0, 0, 0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 15, 20, 15, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
static const unsigned char adviser_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 30, 0, 30, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 22, 0,0,0,0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 30, 0, 30, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 30, 0, 30, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 22, 0,0,0,0,0,0,0,0,
        	0, 0, 0, 0, 0, 0, 30, 0, 30, 0, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    
    }
}
static const unsigned char elephant_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 0, 0, 30, 0, 0, 0, 30, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 20, 0, 0, 0, 35, 0, 0, 0, 20,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 0, 0, 25, 0, 0, 0, 25, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 0, 0, 25, 0, 0, 0, 25, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 20, 0, 0, 0, 35, 0, 0, 0, 20,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	    0, 0, 0, 0, 0, 30, 0, 0, 0, 30, 0, 0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
 static const unsigned char horse_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	0, 0, 0, 60, 70, 75, 70, 60, 70, 75, 70, 60,0, 0, 0, 0, 
    	0, 0, 0, 70, 75, 75, 70, 50, 70, 75, 75, 70,0, 0, 0, 0, 
    	0, 0, 0, 80, 85, 90, 90, 80, 90, 90, 85, 80,0, 0, 0, 0, 
    	0, 0, 0, 80, 90, 100, 100, 90, 100, 90, 80,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 100, 110, 100, 110, 100, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 110, 110, 120, 100, 120, 110, 110, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 120, 130, 110, 130, 120, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 120, 125, 120, 125, 120, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 80, 110, 125, 90, 70, 90, 125, 110, 80,0, 0, 0, 0, 
    	0, 0, 0, 70, 80, 90, 80, 70, 80, 90, 80, 70,0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    	0, 0, 0, 70, 80, 90, 80, 70, 80, 90, 80, 70,0, 0, 0, 0, 
    	0, 0, 0, 80, 110, 125, 90, 70, 90, 125, 110, 80,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 120, 125, 120, 125, 120, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 120, 130, 110, 130, 120, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 110, 110, 120, 100, 120, 110, 110, 90,0, 0, 0, 0, 
    	0, 0, 0, 90, 100, 100, 110, 100, 110, 100, 100, 90,0, 0, 0, 0, 
    	0, 0, 0, 80, 90, 100, 100, 90, 100, 90, 80,0, 0, 0, 0, 
    	0, 0, 0, 80, 85, 90, 90, 80, 90, 90, 85, 80,0, 0, 0, 0, 
    	0, 0, 0, 70, 75, 75, 70, 50, 70, 75, 75, 70,0, 0, 0, 0, 
    	0, 0, 0, 60, 70, 75, 70, 60, 70, 75, 70, 60,0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
static const unsigned char charoit_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
        0,0,0,150, 160, 150, 160, 150, 160, 150, 160, 150,0,0,0,0, 
        0,0,0,160, 170, 160, 160, 150, 160, 160, 170, 160,0,0,0,0, 
        0,0,0,170, 180, 170, 170, 160, 170, 170, 180, 170,0,0,0,0, 
        0,0,0,170, 190, 200, 220, 240, 220, 200, 190, 170,0,0,0,0, 
        0,0,0,180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
        0,0,0,180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
        0,0,0,180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
        0,0,0,170, 190, 200, 220, 240, 220, 200, 190, 170,0,0,0,0, 
        0,0,0,170, 180, 170, 190, 250, 190, 170, 180, 170,0,0,0,0, 
        0,0,0,160, 170, 160, 150, 150, 150, 160, 170, 160,0,0,0,0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    0,0,0,	160, 170, 160, 150, 150, 150, 160, 170, 160,0,0,0,0,  
    0,0,0,	170, 180, 170, 190, 250, 190, 170, 180, 170,0,0,0,0, 
    0,0,0,	170, 190, 200, 220, 240, 220, 200, 190, 170,0,0,0,0, 
    0,0,0,	180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
    0,0,0,	180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
    0,0,0,	180, 220, 210, 240, 250, 240, 210, 220, 180,0,0,0,0, 
    0,0,0,	170, 190, 200, 220, 240, 220, 200, 190, 170,0,0,0,0,
    0,0,0,	170, 180, 170, 170, 160, 170, 170, 180, 170,0,0,0,0, 
    0,0,0,	160, 170, 160, 160, 150, 160, 160, 170, 160,0,0,0,0, 
    0,0,0,	150, 160, 150, 160, 150, 160, 150, 160, 150,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
static const unsigned char canon_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    0,0,0,	80, 90, 80, 70, 60, 70, 80, 90, 80, 0, 0, 0, 0, 
    0,0,0,	80, 90, 80, 70, 65, 70, 80, 90, 80, 0, 0, 0, 0, 
    0,0,0,	90, 100, 80, 80, 70, 80, 80, 100, 90, 0, 0, 0, 0, 
    0,0,0,	90, 100, 90, 90, 110, 90, 90, 100, 90, 0, 0, 0, 0, 
    0,0,0,	90, 100, 90, 110, 130, 110, 90, 100, 90, 0, 0, 0, 0, 
    0,0,0,	90, 110, 90, 110, 130, 110, 90, 110, 90, 0, 0, 0, 0, 
    0,0,0,	100, 120, 90, 80, 80, 80, 90, 120, 100, 0, 0, 0, 0, 
    0,0,0,	110, 125, 100, 70, 60, 70, 100, 125, 110, 0, 0, 0, 0, 
    0,0,0,	125, 130, 100, 70, 60, 70, 100, 130, 125, 0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0,125, 130, 100, 70, 60, 70, 100, 130, 125,0, 0, 0, 0, 
    		0, 0, 0,110, 125, 100, 70, 60, 70, 100, 125, 110,0, 0, 0, 0, 
    		0, 0, 0,100, 120, 90, 80, 80, 80, 90, 120, 100,0, 0, 0, 0, 
    		0, 0, 0,90, 110, 90, 110, 130, 110, 90, 110, 90,0, 0, 0, 0, 
    		0, 0, 0,90, 100, 90, 110, 130, 110, 90, 100, 90,0, 0, 0, 0, 
    		0, 0, 0,90, 100, 90, 90, 110, 90, 90, 100, 90,0, 0, 0, 0, 
    		0, 0, 0,90, 100, 80, 80, 70, 80, 80, 100, 90,0, 0, 0, 0, 
    		0, 0, 0,80, 90, 80, 70, 65, 70, 80, 90, 80,0, 0, 0, 0, 
    		0, 0, 0,80, 90, 80, 70, 60, 70, 80, 90, 80,0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
static const unsigned char pawn_pos_value[2][256] =
{
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    0,0,0,	10, 0, 10, 0, 15, 0, 10, 0, 10,0, 0, 0, 0, 
    0,0,0,	10, 0, 15, 0, 15, 0, 15, 0, 10,0, 0, 0, 0, 
    0,0,0,	15, 20, 20, 20, 20, 20, 20, 20, 15,0, 0, 0, 0, 
    0,0,0,	20, 25, 25, 30, 30, 30, 25, 25, 20,0, 0, 0, 0, 
    0,0,0,	25, 30, 30, 40, 40, 40, 30, 30, 25,0, 0, 0, 0, 
    0,0,0,	25, 30, 40, 50, 60, 50, 40, 30, 25,0, 0, 0, 0, 
    0,0,0,	10, 10, 10, 20, 25, 20, 10, 10, 10,0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    },
    {
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    0,0,0,	10, 10, 10, 20, 25, 20, 10, 10, 10,0, 0, 0, 0, 
    0,0,0,	25, 30, 40, 50, 60, 50, 40, 30, 25,0, 0, 0, 0, 
    0,0,0,	25, 30, 30, 40, 40, 40, 30, 30, 25,0, 0, 0, 0, 
    0,0,0,	20, 25, 25, 30, 30, 30, 25, 25, 20,0, 0, 0, 0, 
    0,0,0,	15, 20, 20, 20, 20, 20, 20, 20, 15,0, 0, 0, 0, 
    0,0,0,	10, 0, 15, 0, 15, 0, 15, 0, 10,0, 0, 0, 0, 
    0,0,0,	10, 0, 10, 0, 15, 0, 10, 0, 10,0, 0, 0, 0, 
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,
    		0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0
    }
}
int flex_pos_value()
{
    int r_value[2];
    int pos,chess;
    int i,j,k;
    int check,n;
    int count;
    r_value[0]=r_vlaue[1]=0;
    for(i=0;i<=1;i++)
    {
        /*king*/
        chess=16+16*i;
        pos=chess_array[chess];
        if(pos!=0)
        {
          for(j=0;j<4;j++)
          {
              n=pos+king_dir[j];
              if(is_valid_pos(king_pos,n))
              {
                  if(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                  {
                      r_vlaue[i]+=flex_value[chess];
                  }
              }
          }
          r_value[i]+=king_pos_value[i][pos];
        }
        /*adviser*/
        for(k=0;k<=1;k++)
        {
          chess=17+k+16*i;
           pos=chess_array[chess];
           if(pos!=)
           {
              for(j=0;j<4;j++)
              {
                  n=pos+adviser_dir[j];
                  if(is_valid_pos(adviser_pos,n))
                  {
                      is(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                      {
                          r_value[i]+=flex_vlaue[chess];
                         r_value[i]+=adviser_pos_value[i][pos];
                      }
                  }
              }
          }
        }
          /*elephant*/
        for(k=0;k<=1;k++)
        {
            chess=19+k+16*i;
            pos=chess_array[i];
            if(pos!=0)
            {
              for(j=0;j<4;j++)
              {
                  n=pos+elephant_dir[j];
                  if(is_valid_pos(elephant_pos,n))
                  {
                      is(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                      {
                          r_value[i]+=flex_vlaue[chess];
                          r_value[i]+=elephant_pos_value[i][pos];
                      }
                  }
              }
            }
          }
          /*horse*/
        for(k=0;k<=1;k++)
        {
            chess=21+k+16*i;
            pos=chess_array[chess];
            if(pos!=0)
            {
               for(j=0;j<8;j++)
               {
                   n=pos+horse_dir[j];
                   check=pos+horse_check[j];
                   if(is_valid_pos(h_c_c_pos,n))
                   {
                       is(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                       {
                           if(curr_chess_board[check])
                           {
                               r_value[i]+=flex_vlaue[chess];
                               r_value[i]+=horse_pos_value[i][pos];
                           }
                       }
                   }
               }
            }
        }   
        /*charoit*/
        for(k=0;k<=1;k++)
        {
            chess=23+k+16*i;
            pos=chess_array[chess];
            if(pos!=0)
            {
               for(j=0;j<4;j++)
               {
                   count=1;
                   n=pos+charoit_dir[j];
                   while(n<256&&n>=0&&curr_chess_board[n]==NO_CHESS)        //position without chess
                   {
                       if(is_valid_pos(h_c_c_pos,n))
                       {
                           r_value[i]+=flex_value[chess];
                           r_value[i]+=charoit_pos_value[i][pos];
                       }
                       count++;
                       n=pos+chariot_dir[j]*count;
                   }
                   if(n>=0&&n<256)                   //the only one position with chess
                   {
                       if(is_valid_pos(h_c_c_pos,n))
                       {
                           if(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                           {
                               r_value[i]+=flex_value[chess];
                               r_value[i]+=charoit_pos_value[i][pos];
                           }
                       }
                   }
               }
            }
        }   
        /*canon*/
        for(k=0;k<=1;k++)
        {
            chess=25+k+16*i;
            pos=chess_array[chess];
            if(pos!=0)
            {
               for(j=0;j<4;j++)
               {
                  count=1;
                  n=pos+canon_dir[j]*count;
                  while(n<256&&n>=0&&curr_chess_board[n]==NO_CHESS)        //position without chess
                  {
                      if(is_valid_pos(h_c_c_pos,n))
                      {
                               r_value[i]+=flex_value[chess];
                               r_value[i]+=canon_pos_value[i][pos];
                      }
                      count++;
                      n=pos+chariot_dir[j]*count;
                  }
                  count++;
                  n=pos+chariot_dir[j]*count;     
                  /*clear postion without chess after one one position with chess */
                  while(n>=0&&n<256&&curr_chess_board[n]==NO_CHESS)
                  {
                     count++;
                     n=pos+chariot_dir[j]*count;
                  }
                  if(n>=0&&n<256)
                  {
                      if(is_valid_pos(h_c_c_pos,n))
                      {
                          if(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                          {
                               r_value[i]+=flex_value[chess];
                               r_value[i]+=canon_pos_value[i][pos];
                          }
                      }
                  }
               }
            }
        }   
    }    
    /*b_pawn*/
    for(k=0;k<5;k++)
    {
        chess=27+k;
        pos=chess_array[chess];
        is(pos!=0)
        {
           for(j=0;j<4;j++)
           {
               n=pos+b_pawn_dir[j];
               if(is_valid_pos(b_pawn_pos,n))
               {
                   if(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                   {
                       r_value[0]+=flex_value[chess];
                       r_value[0]+=canon_pos_value[0][pos];
                   }
               }
           }
        }
    }   
    for(k=0;k<5;k++)
    {
        chess=27+k;
        pos=chess_array[chess];
        if(pos!=0)
        {
           for(j=0;j<4;j++)
           {
               n=pos+r_pawn_dir[j];
               if(is_valid_pos(r_pawn_pos,n))
               {
                   if(!is_same_color(curr_chess_board[pos],curr_chess_board[n]))
                   {
                       r_value[1]+=flex_value[chess];
                       r_value[1]+=canon_pos_value[1][pos];
                   }
               }
           }
        }
    }   
    return r_value[1]-r_value[0];

}        

int evaluation(int side)        //if side is true,return red_value-black_value
{
   int b_value;
   int r_value;
   int value;
   int i;
   b_value=r_value=0;
   for(i=16;i<=31;i++)
   {
       if(chess_array[i]!=0)
       {
           b_value+=base_value[i];      //base_value;
       }
    }
   for(j=32;j<=47;j++)
   {
       if(chess_array[i]!=0)
       {
           r_value+=base_value[i];      //base_value;
       }
   }
   value=r_value-b_value;
   value+=flex_pos_value();
   if(side)
       return value;
   else
       return  -value;
}



